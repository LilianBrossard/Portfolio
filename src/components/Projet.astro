---
import Carousel from "./Carousel.astro";

import ProjetPrev from "../components/ProjetPrev.astro";

import { getCollection } from "astro:content";

const projects = (await getCollection("work")).sort(
    (a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf(),
);
---

<div class="w-screen">
    <h1 class="text-3xl lg:text-6xl font-bold text-center text-black">
        Mes Projets
    </h1>
    <div class="w-full flex flex-col lg:flex-row justify-between index w-full">
        <div class="flex flex-col justify-center lg:w-1/2 m-4">
            {
                projects.slice(0, 1).map((project) => (
                    <div class="image w-full h-min rounded-lg shadow-2xl">
                        <ProjetPrev project={project} />
                    </div>
                ))
            }
        </div>
        <div class="flex flex-col justify-between lg:w-1/2 m-4">
            {
                projects.slice(1, 3).map((project) => (
                    <div class="image w-full h-full rounded-lg shadow-2xl">
                        <ProjetPrev project={project} />
                    </div>
                ))
            }
        </div>
    </div>
    <Carousel />
</div>
